@tailwind base;
@tailwind components;
@tailwind utilities;

:root { 
  color-scheme: dark; 
  --primary: #64ffda; /* match tailwind theme.colors.primary */
}

a { color: inherit; }

.container { @apply max-w-7xl mx-auto px-4; }
.card { @apply bg-card rounded-xl border border-white/10 shadow-lg transition-transform; }
.card:hover { transform: translateY(-1px); }
.btn { @apply px-4 py-2 rounded-lg bg-primary text-bg hover:opacity-90 transition; }
.input { @apply bg-card border border-white/10 rounded-md px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-primary; }

/* Print styles for Export to PDF */
@media print {
  /* Reset backgrounds and colors for readability */
  :root { color-scheme: light; }
  body { background: #fff !important; color: #000 !important; }

  /* Hide non-essential UI */
  header, nav, .btn, .no-print, .leaflet-control-container { display: none !important; }

  /* Only print the designated area */
  .print-area { display: block !important; }
  /* Avoid dark theme colors on paper */
  .print-area, .print-area * { color: #000 !important; }

  /* Simplify cards for print */
  .card { box-shadow: none !important; border-color: #e5e7eb !important; background: #fff !important; }

  /* Page size and margins are handled by browser print dialog */
}
.label { @apply text-sm text-white/70 mb-1; }

/* App Background */
body {
  font-family: 'Plus Jakarta Sans', ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  background: radial-gradient(1200px 800px at 10% -10%, rgba(100,255,218,0.08), transparent),
              radial-gradient(1000px 600px at 90% 10%, rgba(167,139,250,0.08), transparent),
              linear-gradient(180deg, #0b0f19 0%, #0b0f19 100%);
}

/* Glassmorphism */
.glass { backdrop-filter: saturate(140%) blur(10px); background-color: rgba(18, 24, 38, 0.6); }
.card.glass, .glass.card { background-color: rgba(18, 24, 38, 0.6); }

/* Light theme overrides when html does NOT have .dark */
html:not(.dark) body { background: linear-gradient(180deg, #f6f8fb 0%, #ffffff 100%); color: #0a0a0a; }
html:not(.dark) .text-text { color: #0a0a0a; }
html:not(.dark) .card { background: #ffffff; border-color: rgba(0,0,0,0.08); }
html:not(.dark) .input { background: #ffffff; border-color: rgba(0,0,0,0.12); }
html:not(.dark) .glass { background-color: rgba(255,255,255,0.7); border-color: rgba(0,0,0,0.08); }

/* Animations */
@keyframes slideIn {
  from { transform: translateX(20%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}
.animate-slideIn { animation: slideIn 0.25s ease-out both; }

@keyframes pulseSkeleton {
  50% { opacity: 0.9; }
  100% { opacity: 0.5; }
}
.skeleton { background: linear-gradient(90deg, #1a2234 25%, #1d2740 37%, #1a2234 63%); background-size: 400% 100%; animation: pulseSkeleton 1.5s ease-in-out infinite; }

.skeleton-text { height: 0.9rem; border-radius: 9999px; }
.skeleton-box { border-radius: 0.75rem; }

/* Input range styles */
.range {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 0.5rem; /* overall track height */
  background: transparent;
}

/* WebKit (Chrome, Edge, Safari) */
.range::-webkit-slider-runnable-track {
  height: 0.5rem;
  background: rgba(255,255,255,0.15);
  border-radius: 0.25rem;
}
.range::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  margin-top: -0.375rem; /* center thumb on 0.5rem track when thumb is 1.25rem */
  width: 1.25rem;
  height: 1.25rem;
  background: var(--primary);
  border-radius: 9999px;
  border: 2px solid rgba(0,0,0,0.25);
  box-shadow: 0 0 0 4px rgba(100,255,218,0.15);
  cursor: pointer;
}
.range:focus::-webkit-slider-thumb {
  box-shadow: 0 0 0 6px rgba(100,255,218,0.25);
}

/* Firefox */
.range::-moz-range-track {
  height: 0.5rem;
  background: rgba(255,255,255,0.15);
  border-radius: 0.25rem;
}
.range::-moz-range-progress {
  height: 0.5rem;
  background: var(--primary);
  border-radius: 0.25rem;
}
.range::-moz-range-thumb {
  width: 1.25rem;
  height: 1.25rem;
  background: var(--primary);
  border-radius: 9999px;
  border: 2px solid rgba(0,0,0,0.25);
  box-shadow: 0 0 0 4px rgba(100,255,218,0.15);
  cursor: pointer;
}

/* IE/Edge (non-Chromium, legacy) */
.range::-ms-track {
  height: 0.5rem;
  background: transparent;
  border-color: transparent;
  color: transparent;
}
.range::-ms-fill-lower {
  background: var(--primary);
  border-radius: 0.25rem;
}
.range::-ms-fill-upper {
  background: rgba(255,255,255,0.15);
  border-radius: 0.25rem;
}
.range::-ms-thumb {
  width: 1.25rem;
  height: 1.25rem;
  background: var(--primary);
  border-radius: 9999px;
  border: 2px solid rgba(0,0,0,0.25);
  cursor: pointer;
}

.bg-dot-grid {
  position: absolute;
  inset: 0;
  background-image: radial-gradient(rgba(255,255,255,0.08) 1px, transparent 1px);
  background-size: 20px 20px;
}

.divider-faint {
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
}
